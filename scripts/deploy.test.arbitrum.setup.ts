// @ts-ignore
import { ethers } from 'hardhat';
import { getIndexPriceFeed, getOraclePriceFeed, getRoleManager, getTokens, waitForTx } from '../helpers';
import { HardhatRuntimeEnvironment } from 'hardhat/types';
import { PythOraclePriceFeed } from '../types';
import { BigNumber } from 'ethers';

declare var hre: HardhatRuntimeEnvironment;

async function main() {
    const [deployer] = await ethers.getSigners();
    console.log(deployer.address);
    console.log(ethers.utils.formatEther(await deployer.getBalance()));

    const roleManager = await getRoleManager();
    const oraclePriceFeed = await getOraclePriceFeed();

    const keepers: string[] = [
        '0x7515faD273e6f1e0B36dc0Fda6628D94dc2512c2',
        '0x64eBDa3e06Ea291206fe5Df2684DEca5E36e5658',
        '0x19cD468095E89F3aA0B4442DF91047ba211B983A',
        '0x83eF4154f6b3FEE0Dc9Cd2A015Fc8de352c7B2eA',
        '0xC8Ea896A4dB392f2F9973F0c747340058AD7C883',
        '0x3E7B1Baa684BBea6F40Ce81D70805825d6DE600b',
        '0xBc7913F4fBf76Cd25131EF27dBcB88CaE29FEc56',
        '0x8cD00CDAeBe88674eD063e70A4C8C0211A1C1BB5',
        '0x77060DC85be51674915d98112B1f93e32fd7C70e',
        '0xF3E70777A5FCD2E8f2B7cd01eF89AB8D62C52052',
        '0xA689841E6aF5823a5772D22b16ea46E4D204bb61',
        '0x40D77EF4Ab4caf64752EeA0E4d401008007bC16f',
        '0x987b504e86661aA9EDE3D27a672B89ca58511E6a',
        '0x4d869Dc04CBD6f289DdE109F902cCa7809fd7cf0',
        '0xCD6ECEc9FB6eD9D6985CD0Ef3806BeC455eb9a65',
        '0xdf89c4d441c3f6e2a8E2eb50d95C2685887B5693',
        '0x812876AaBA09bA6f6A2bA2bc7E7f73443ee14d67',
        '0x2430E5eFaBB5eCB250575ab7C24573F46158BF7E',
        '0xc80032711776E2EA939CD1Abd2F379cF5980978f',
        '0x0A5FedC236657116235Ca574Eb206aE2e7E08374',
        '0xc5e0b53d8490898fa36b052222F85de98C4fE1B2',
        '0x6Ad5ac927Ed650AAbaDe61ec483fD549cDc93532',
        '0xB893AfBF7C00a2AE82B7816Fb6Bb9994DD98B445',
        '0x354Ad8188408698c18e15adD734303F3ab75E6ed',
        '0x6A71c8480f25dbfFDd9F36c0BB04d7597CB3b84A',
        '0xe90bB62905BA15c673b18026ad2577ef70b6d064',
        '0x5c2163d44fd51b1AEaa543e792DCF6F25Da4db93',
        '0x159b9d016D18021405F19EF4A4a65C265cCe7672',
        '0xd480fDd69257AA20e084e49B4a5D91BACb2855E5',
        '0x231cC0812c35DBC3D086879cFBCaa20b3222C26d',

        '0x801a5B93aDAdCe3B325D1cCB024F99472baE4728',
        '0x3b929C24A7a9ec6e6e917261059384991f712105',
        '0x80753b31b0e45E24D0F0D309B653221d90AbF660',
        '0xB0b2210679D3605394fa3891A8AD58A512b036D4',
        '0x6a13E180325292770e9653987f34E695F089B92a',
    ];

    for (let keeper of keepers) {
        await roleManager.addKeeper(keeper);
        await roleManager.addPoolAdmin(keeper);
    }

    const pythOraclePriceFeed = await ethers.getContractAt('PythOraclePriceFeed', oraclePriceFeed.address);
    await pythOraclePriceFeed.connect(deployer).updatePriceAge(60);

    // const wallet = new ethers.Wallet(
    //     'a5f6cbc5851da39699e5779e9d2c61966ea50ea08988c5430785e8d2c8c71eeb',
    //     deployer.provider,
    // );

    let total = BigNumber.from('0');
    for (const keeper of keepers) {
        // await wallet.sendTransaction({
        //     to: keeper,
        //     value: ethers.utils.parseEther('10'),
        // });
        total = total.add(await deployer.provider.getBalance(keeper));
        console.log(
            `keeper: ${keeper} balance: ${ethers.utils.formatEther(await deployer.provider.getBalance(keeper))}`,
        );
    }
    console.log(`total: ${ethers.utils.formatEther(total)}`);
}

// 0x7515faD273e6f1e0B36dc0Fda6628D94dc2512c2_0x830ace302357a3206c5094cd6f91b51782168b61e1de6b4835246aac73032b97
// 0x64eBDa3e06Ea291206fe5Df2684DEca5E36e5658_0x571b6bb33687308fedcd4cf2010875a25fcc93bfb29ad794f358e7e725d28835
// 0x19cD468095E89F3aA0B4442DF91047ba211B983A_0x13bf9ed7131ca31d3b1cb69aecdec44b79dd8afc8977eb71159fd2311d9c4104
// 0x83eF4154f6b3FEE0Dc9Cd2A015Fc8de352c7B2eA_0x4c2ce9ea7ee3d8d77b225d9661016b1d5a20acc1c4914381a67ba4827cc977cb
// 0xC8Ea896A4dB392f2F9973F0c747340058AD7C883_0x2a1692ec9c76a4a884f9e8d3d0e16f6e0c4e6be0d9d94bc9ffe98dccc05b209d
// 0x3E7B1Baa684BBea6F40Ce81D70805825d6DE600b_0xf525bb12a1c8901e1ce83ea4df0ea95460a6f7f86953a2c43be773eeb549d128
// 0xBc7913F4fBf76Cd25131EF27dBcB88CaE29FEc56_0x5b160c96eef19c5bdb01c5acd7ad77855019eeee8840cba6f8a232006fad3146
// 0x8cD00CDAeBe88674eD063e70A4C8C0211A1C1BB5_0xac4e083d9cf0966f25eb5b30b202ecd55b5af923a505c7341601718e0b089f4c
// 0x77060DC85be51674915d98112B1f93e32fd7C70e_0xae9e386e993de866d03f887c73ba34e368e0f88c476f6008b75667bd847bc212
// 0xF3E70777A5FCD2E8f2B7cd01eF89AB8D62C52052_0x23bede524c5f1c7ae1cd6e100d4382643debdbd03b1ca5a6d3a181b86600d745
// 0xA689841E6aF5823a5772D22b16ea46E4D204bb61_0x5eec3bec9b383c98e4cf2566dc00f28be705b74815e2a3c8ec61234ff09ab604
// 0x40D77EF4Ab4caf64752EeA0E4d401008007bC16f_0x4008ea72b87a2d49d8d3774fd11130aaf8fe542dedb184e32838948da729f576
// 0x987b504e86661aA9EDE3D27a672B89ca58511E6a_0x55824d567d61945a0c3c6dcaa225a9b16f262fc61250747b8bde8289dbd62959
// 0x4d869Dc04CBD6f289DdE109F902cCa7809fd7cf0_0xc9be621c2052d34919e596dd6eac44275a312279ba9699c39315f8f098b3a110
// 0xCD6ECEc9FB6eD9D6985CD0Ef3806BeC455eb9a65_0x6c13fc4d8716a83334ab4be5e32135d956b676f5b09ac2d0e9fe546fcafeb144
// 0xdf89c4d441c3f6e2a8E2eb50d95C2685887B5693_0x7bf556595c9805b4d35e9fcbdaa33395a26d691f15b17af9006afb26ac73a0a3
// 0x812876AaBA09bA6f6A2bA2bc7E7f73443ee14d67_0x6161a625cd29c1881381dbc8e265111fceaae764a0b479ee9a2184b32baf1fc1
// 0x2430E5eFaBB5eCB250575ab7C24573F46158BF7E_0x40596dca54a0aff033dd0851666c726fe39f8df73d3fdfb102a4f4da3d682cd2
// 0xc80032711776E2EA939CD1Abd2F379cF5980978f_0xd3114786b5a395417f9411c5df33476b0d1e5068794f9b07554996d489b80773
// 0x0A5FedC236657116235Ca574Eb206aE2e7E08374_0x3de726a67679579c37f42105393674c9045178b582abd85ccc125ef79744fdd3
// 0xc5e0b53d8490898fa36b052222F85de98C4fE1B2_0x0aa656a0beb1ceb89e458b2945e0b7e2d19adc9c6add13cba4c7fe6c26b71e65
// 0x6Ad5ac927Ed650AAbaDe61ec483fD549cDc93532_0x8fbd9521bdcff7b7a95451f21c5e97b04ec9b3021e21222f4f8f48a4a1d9d5bf
// 0xB893AfBF7C00a2AE82B7816Fb6Bb9994DD98B445_0xf9415003843850e263b12e1a0b80c9de3829f76b6c7bed869f6f80c777539cee
// 0x354Ad8188408698c18e15adD734303F3ab75E6ed_0x64e573aca8b22cc7458e655e5fbd66c9558e7238afbb7067e9b48421a337baa1
// 0x6A71c8480f25dbfFDd9F36c0BB04d7597CB3b84A_0x1783c1a6476ac403da9c4e3c565d7b18f1dde3e41ff61793e3e6bd7dcf9fdf2b
// 0xe90bB62905BA15c673b18026ad2577ef70b6d064_0xbb9ab666574c7fe325e5509f282d05f97d390359701469f82a36f78ab864c007
// 0x5c2163d44fd51b1AEaa543e792DCF6F25Da4db93_0x93dd051adefe65342ccb28ef29fdba072dbe13ae9991d4383aa2f7aa21e6fca8
// 0x159b9d016D18021405F19EF4A4a65C265cCe7672_0x0ad8aec71f6959a58ef9b09853dfd64dadfde7dc42869fa6fc9d0b18a83f5d73
// 0xd480fDd69257AA20e084e49B4a5D91BACb2855E5_0x0ea8863c1c365e591e6f55c07e9e91d0d16844f8e1d8f2f411364100406f8e74
// 0x231cC0812c35DBC3D086879cFBCaa20b3222C26d_0xfac0f6f88e0cf40a2f485b2e95894fb65b560c5b8d405f6a935bc2845a037c2c

// 0x801a5B93aDAdCe3B325D1cCB024F99472baE4728_0x996ff9011b183d5f9d651f9b239b375a7472ea716a97bf5d3eb3fb5cc8f0ac7b
// 0x3b929C24A7a9ec6e6e917261059384991f712105_0x7d113215ca5b1ad13edfa0e5dd37ed27a3c18c2ccda15219ef3281c6c89ebc09
// 0x80753b31b0e45E24D0F0D309B653221d90AbF660_0x8a8df1cc48d5ed8c1288045306c07ce6ff8cee9beb2bf68bc3c07645bd554204
// 0xB0b2210679D3605394fa3891A8AD58A512b036D4_0x2d74252c1f1b93e48b1e866c891550fb217f85042d78a5780804dec64a4d1774
// 0x6a13E180325292770e9653987f34E695F089B92a_0x061e3103ebf1e1b62cb557120b3736d59fb4c1bcddbb440fc187ec0f4f2370c0

main().catch((error) => {
    console.error(error);
    process.exitCode = 1;
});
